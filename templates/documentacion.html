{% extends "base.html" %}

{% block title %}Documentaci√≥n del Proyecto{% endblock %}

{% block extra_head %}
<script src="https://cdn.jsdelivr.net/npm/markmap-autoloader@0.16"></script>
<style>
    .container-fluid {
        height: calc(100vh - 56px);
        padding: 0;
    }
    
    #markmap-container {
        width: 100%;
        height: 100%;
    }
    
    .toolbar {
        position: fixed;
        top: 70px;
        right: 20px;
        z-index: 1000;
        background: white;
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .toolbar button {
        margin: 2px;
    }
</style>
{% endblock %}

{% block content %}
<div class="toolbar">
    <div class="btn-group-vertical">
        <button type="button" class="btn btn-sm btn-outline-primary" onclick="zoomIn()" title="Acercar">
            <i class="fas fa-search-plus"></i>
        </button>
        <button type="button" class="btn btn-sm btn-outline-primary" onclick="zoomOut()" title="Alejar">
            <i class="fas fa-search-minus"></i>
        </button>
        <button type="button" class="btn btn-sm btn-outline-primary" onclick="resetZoom()" title="Reiniciar vista">
            <i class="fas fa-compress-arrows-alt"></i>
        </button>
        <hr class="my-1">
        <button type="button" class="btn btn-sm btn-outline-secondary" onclick="toggleFullscreen()" title="Pantalla completa">
            <i class="fas fa-expand"></i>
        </button>
    </div>
</div>

<div class="container-fluid">
    <svg id="markmap-container"></svg>
</div>

<!-- Template Data Bridge - Datos del backend para JavaScript -->
<script id="template-data" type="application/json">
{
    "markdownContent": {{ readme_content|tojson }},
    "markmapConfig": {
        "duration": 500,
        "maxWidth": 300,
        "paddingX": 20,
        "autoFit": true,
        "initialExpandLevel": 2
    }
}
</script>
{% endblock %}

{% block scripts %}
<!-- Core utilities -->
<script src="/static/js/core/template-bridge.js?v=1.0"></script>

<!-- Module-specific JavaScript -->
<script src="/static/js/modules/documentacion.js?v=1.0"></script>
{% endblock %}
